(()=>{var e=document.querySelector("#movie-thumbnail"),t=document.querySelector("#artist-thumbnail");function o(e){let t=e.currentTarget.dataset.id;fetch("movie/getMovie/"+t).then(e=>e.json()).then(e=>{let t=document.querySelector("#movieModal"),o=t.querySelector("#movieModalLabel"),i=t.querySelector("#movieYear"),n=t.querySelector("#movieCover"),a=t.querySelector("#movieRating"),c=t.querySelector("#movieStoryline");e.movie.forEach(({movies_title:e,movies_year:t,movies_storyline:r,movies_rating:l,movies_cover:s})=>{o.innerHTML=e,n.src=`images/${s}`,n.alt=e,i.innerHTML=t,c.innerHTML=r,a.innerHTML="Rating: "+l})}).catch(function(e){console.log(e)}),function(e){fetch("movie/getGenre/"+e).then(e=>e.json()).then(e=>{let t=movieModal.querySelector("#movieGenre"),o="";e.genre.forEach(({genre_name:e})=>{o+=`${e}, `}),o=o.replace(/, $/,""),t.innerHTML=o}).catch(function(e){console.log(e)})}(t),function(e){fetch("movie/getAgeRating/"+e).then(e=>e.json()).then(e=>{let t=movieModal.querySelector("#moviePG"),o="";e.agerating.forEach(({age_rating_name:e})=>{o=`${e}`}),t.innerHTML=o}).catch(function(e){console.log(e)})}(t)}(function(){fetch("movie/getMovies").then(e=>e.json()).then(t=>{let i=e.querySelector(".thumbnail-list");t.movies.forEach(({movies_id:e,movies_title:t,movies_cover:o})=>{let n=`<div class="card"><img data-id=${e} data-toggle="modal" data-target="#movieModal" src="images/${o}" alt="${t} cover" class="card-img-top movie-thumbnail"><div class="card-body">\n          <h5 class="card-title">${t}</h5></div></div>`;i.innerHTML+=n}),i.querySelectorAll(".movie-thumbnail").forEach(e=>{e.addEventListener("click",o,!1)})}).catch(function(e){console.log(e)})}).call(),function(){fetch("music/getArtists").then(e=>e.json()).then(e=>{let o=t.querySelector(".thumbnail-list");e.movies.forEach(({artist_id:e,artist_name:t,artist_photo:i})=>{let n=`<div class="card"><img data-id=${e} src="images/${i}" alt="${t} cover" class="card-img-top artist-thumbnail"><div class="card-body">\n          <h5 class="card-title">${t}</h5></div></div>`;o.innerHTML+=n})}).catch(function(e){console.log(e)})}.call()})();